{"version":3,"file":"builtin-group.addbda75.js","sources":["../../../src/views/template/components/builtin/mixins/index.js"],"sourcesContent":["import * as transformCase from '@/utils/case'\nimport { formatComponentStyle } from '@/views/template/utils'\n\nconst borderComponent = ['BuiltinInput', 'BuiltinSelect']\n\n/**\n * @param {string} componentName\n */\nfunction isInnerBorderComponent(componentName) {\n  return borderComponent.indexOf(componentName) > -1\n}\n\n/**\n * @type {Vue.ComponentOptions<Vue>}\n */\nconst mixin = {\n  inheritAttrs: false,\n  props: {\n    lock: {\n      type: Boolean,\n      required: true\n    },\n    mode: {\n      type: String,\n      default: 'shape'\n    },\n    label: {\n      type: String,\n      required: true\n    },\n    size: {\n      type: Object,\n      required: true\n    },\n    property: {\n      type: Object,\n      required: true\n    },\n    position: {\n      type: Object,\n      required: true\n    },\n    group: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      name: ''\n    }\n  },\n  created() {\n    this.name = this.$vnode.componentOptions.Ctor.options.name\n  },\n  computed: {\n    formValue: {\n      get() {\n        return this.value\n      },\n      set(val) {\n        this.$emit('input', val)\n      }\n    },\n    id() {\n      return transformCase.kebabCase(this.name) + '-' + this._uid\n    },\n    isShape() {\n      return this.mode === 'shape'\n    },\n    isElement() {\n      return this.mode === 'element'\n    },\n    style() {\n      return formatComponentStyle(this.property)\n    },\n    containerStyle() {\n      /**\n       * @type {import('vue/types/jsx').CSSProperties}\n       */\n      const style = Object.assign(Object.create(null), this.style)\n      style.columnGap = '5px'\n\n      if (isInnerBorderComponent(this.name)) {\n        delete style.borderWidth\n        delete style.borderColor\n        delete style.borderStyle\n      }\n\n      if (this.group || this.isElement) {\n        style.position = 'absolute'\n        style.left = this.position.x + 'px'\n        style.top = this.position.y + 'px'\n        style.width = this.size.w + 'px'\n        style.height = style.lineHeight + 'px'\n      }\n\n      return style\n    },\n    valueStyle() {\n      if (isInnerBorderComponent(this.name)) {\n        return {\n          borderWidth: this.style.borderWidth,\n          borderBottomStyle: this.style.borderStyle,\n          borderColor: this.style.borderColor\n        }\n      }\n\n      return null\n    }\n  },\n  methods: {\n    toHtml() {\n      /**\n       * @type {HTMLDivElement}\n       */\n      const el = this.$el.cloneNode(true)\n\n      el.style.position = 'absolute'\n      el.style.left = this.position.x + 'px'\n      el.style.top = this.position.y + 'px'\n      el.style.width = this.size.w + 'px'\n      el.style.height = this.size.h + 'px'\n\n      return el\n    }\n  }\n}\n\nexport default mixin\n"],"names":["borderComponent","isInnerBorderComponent","componentName","indexOf","mixin","inheritAttrs","props","lock","type","Boolean","required","mode","String","default","label","size","Object","property","position","group","data","name","created","this","$vnode","componentOptions","Ctor","options","computed","formValue","get","value","set","val","$emit","id","transformCase.kebabCase","_uid","isShape","isElement","style","formatComponentStyle","containerStyle","assign","create","columnGap","borderWidth","borderColor","borderStyle","left","x","top","y","width","w","height","lineHeight","valueStyle","borderBottomStyle","methods","toHtml","el","$el","cloneNode","h"],"mappings":"kFAGA,MAAMA,EAAkB,CAAC,eAAgB,iBAKzC,SAASC,EAAuBC,GACvB,OAAAF,EAAgBG,QAAQD,IAAiB,CAClD,CAKK,MAACE,EAAQ,CACZC,cAAc,EACdC,MAAO,CACLC,KAAM,CACJC,KAAMC,QACNC,UAAU,GAEZC,KAAM,CACJH,KAAMI,OACNC,QAAS,SAEXC,MAAO,CACLN,KAAMI,OACNF,UAAU,GAEZK,KAAM,CACJP,KAAMQ,OACNN,UAAU,GAEZO,SAAU,CACRT,KAAMQ,OACNN,UAAU,GAEZQ,SAAU,CACRV,KAAMQ,OACNN,UAAU,GAEZS,MAAO,CACLX,KAAMC,QACNI,SAAS,IAGbO,KAAO,KACE,CACLC,KAAM,KAGV,OAAAC,GACEC,KAAKF,KAAOE,KAAKC,OAAOC,iBAAiBC,KAAKC,QAAQN,IACvD,EACDO,SAAU,CACRC,UAAW,CACT,GAAAC,GACE,OAAOP,KAAKQ,KACb,EACD,GAAAC,CAAIC,GACGV,KAAAW,MAAM,QAASD,EACrB,GAEH,EAAAE,GACE,OAAOC,EAAwBb,KAAKF,MAAQ,IAAME,KAAKc,IACxD,EACD,OAAAC,GACE,MAAqB,UAAdf,KAAKZ,IACb,EACD,SAAA4B,GACE,MAAqB,YAAdhB,KAAKZ,IACb,EACD,KAAA6B,GACS,OAAAC,EAAqBlB,KAAKN,SAClC,EACD,cAAAyB,GAIQ,MAAAF,EAAQxB,OAAO2B,OAAO3B,OAAO4B,OAAO,MAAOrB,KAAKiB,OAiB/C,OAhBPA,EAAMK,UAAY,MAEd5C,EAAuBsB,KAAKF,eACvBmB,EAAMM,mBACNN,EAAMO,mBACNP,EAAMQ,cAGXzB,KAAKJ,OAASI,KAAKgB,aACrBC,EAAMtB,SAAW,WACXsB,EAAAS,KAAO1B,KAAKL,SAASgC,EAAI,KACzBV,EAAAW,IAAM5B,KAAKL,SAASkC,EAAI,KACxBZ,EAAAa,MAAQ9B,KAAKR,KAAKuC,EAAI,KACtBd,EAAAe,OAASf,EAAMgB,WAAa,MAG7BhB,CACR,EACD,UAAAiB,GACM,OAAAxD,EAAuBsB,KAAKF,MACvB,CACLyB,YAAavB,KAAKiB,MAAMM,YACxBY,kBAAmBnC,KAAKiB,MAAMQ,YAC9BD,YAAaxB,KAAKiB,MAAMO,aAIrB,IACR,GAEHY,QAAS,CACP,MAAAC,GAIE,MAAMC,EAAKtC,KAAKuC,IAAIC,WAAU,GAQvB,OANPF,EAAGrB,MAAMtB,SAAW,WACpB2C,EAAGrB,MAAMS,KAAO1B,KAAKL,SAASgC,EAAI,KAClCW,EAAGrB,MAAMW,IAAM5B,KAAKL,SAASkC,EAAI,KACjCS,EAAGrB,MAAMa,MAAQ9B,KAAKR,KAAKuC,EAAI,KAC/BO,EAAGrB,MAAMe,OAAShC,KAAKR,KAAKiD,EAAI,KAEzBH,CACR"}