import{n as t,_ as e,V as o,v as l,r as n}from"./vendor.e75a9f0e.js";import{d as i,i as a,j as r}from"./common.c8fc7f20.js";import{b as s}from"./shared/reportTemplate/template.6425c919.js";import"./libs.ec5fd20d.js";import"./components.a228e139.js";var c=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:"编辑模板",visible:t.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,width:t.store.size.width+50+"px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("section",{staticStyle:{"background-color":"#fff"},style:{height:"55vh",overflowY:"auto"}},[e("div",{staticClass:"template-document",style:t.documentStyle},[t._l(t.store.componentsData,(function(o){return["builtin-group"===o.name?e(o.name,t._b({key:o.id,tag:"component",attrs:{group:"",mode:"element",children:o.children}},"component",o.props,!1)):e(o.name,t._b({key:o.id,tag:"component",attrs:{mode:"element"},model:{value:o.value,callback:function(e){t.$set(o,"value",e)},expression:"component.value"}},"component",o.props,!1))]}))],2)]),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.action("cancel")}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.action("ok")}}},[t._v("确 定")])],1)])},p=[];const m=[{label:"病例名称",create(){return a({props:{label:this.label}},"document")}},{label:"产前编号",create(){return a({props:{label:this.label}},"document")}},{label:"姓名",create(){return a({props:{label:this.label}},"document")}},{label:"姓名组",create(){return r({builtin:!0,props:{label:this.label,position:{x:0,y:20}}},[a({props:{label:"姓名1"}},"document"),a({props:{label:"姓名2",position:{x:20,y:20}}},"document")],"document")}},{label:"筛选项",create(){return a({name:"builtin-select",props:{label:this.label,options:[{label:"测试1",value:"111"},{label:"测试2",value:"222"},{label:"测试3",value:"333"}]}},"document")}}];let u=null;const d=t({name:"TemplateDocument",components:{BuiltinInput:()=>e((()=>import("./builtin-input.605cfe8a.js")),["static/js/builtin-input.605cfe8a.js","static/js/builtin-group.addbda75.js","static/js/vendor.e75a9f0e.js","static/js/libs.ec5fd20d.js","static/css/libs-2b70db29.css","static/js/common.c8fc7f20.js","static/js/components.a228e139.js","static/css/components-34bf6546.css"]),BuiltinGroup:()=>e((()=>import("./builtin-group.0d03a4fe.js")),["static/js/builtin-group.0d03a4fe.js","static/js/vendor.e75a9f0e.js","static/js/libs.ec5fd20d.js","static/css/libs-2b70db29.css","static/js/builtin-group.addbda75.js","static/js/common.c8fc7f20.js","static/js/components.a228e139.js","static/css/components-34bf6546.css","static/js/builtin-input.605cfe8a.js","static/js/builtin-select.383299a6.js"]),BuiltinSelect:()=>e((()=>import("./builtin-select.383299a6.js")),["static/js/builtin-select.383299a6.js","static/js/builtin-group.addbda75.js","static/js/vendor.e75a9f0e.js","static/js/libs.ec5fd20d.js","static/css/libs-2b70db29.css","static/js/common.c8fc7f20.js","static/js/components.a228e139.js","static/css/components-34bf6546.css"])},setup(){const t=s();t.size.name="A4";return function(t){let e=0;return t.map((function(t,o){const l=t.create(!0);return l.uid=e++,l.id=i(l.uid),l.visible=!0,l.props.position.x=20,l.props.position.y=100*o,l.children&&l.children.forEach((function(t){t.uid=e++,t.id=i(t.uid)})),l}))}(m).forEach((function(e,o){t.components.set(o,e),t.changes+=1})),{store:t}},data:()=>({dialogVisible:!1}),computed:{documentStyle(){return{borderLeftWidth:this.store.padding.left+"mm",borderTopWidth:this.store.padding.top+"mm",borderRightWidth:this.store.padding.right+"mm",borderBottomWidth:this.store.padding.bottom+"mm",width:this.store.size.width+"px",height:this.store.size.height+"px"}}},methods:{open(){return this.dialogVisible=!0,new Promise((t=>{u=t}))},action(t){this.dialogVisible=!1,u(t)}}},c,p,!1,null,null,null,null).exports,b=o.extend(d);let h=null;const f=t({name:"org-reportTemplate",mixins:[l({request:function(t){return console.log(t),n(Array.from({length:t.length||20},((t,e)=>({name:"王小虎",address:"上海市普陀区金沙江路 151".concat(e," 弄")}))))},immediate:!1})],setup:()=>({form:{mechanismId:null}}),created(){this.form.mechanismId=this.currentMechanism.mechanismId,this.search()},methods:{editDocument:()=>(h||(h=new b,h.$mount(),document.body.appendChild(h.$el)),h.open())}},(function(){var t=this,e=t._self._c;return e("app-data-view",{attrs:{pagination:""}},[e("app-table-container",[e("template",{slot:"action"},[e("router-link",{attrs:{to:"/template/action?type=create"}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("创建模板")])],1),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.editDocument()}}},[t._v("编辑模板")])],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],ref:"table",attrs:{data:t.table.data,height:"100%",stripe:""}},[e("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),e("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e("el-table-column",{attrs:{prop:"address",label:"地址"}})],1)],2)],1)}),[],!1,null,null,null,null).exports;export{f as default};
//# sourceMappingURL=reportTemplate.62ae4960.js.map
