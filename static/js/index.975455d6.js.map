{"version":3,"file":"index.975455d6.js","sources":["../../../src/router/permission.js","../../../src/App.vue","../../../src/main.js"],"sourcesContent":["import router from '.'\nimport store from '@/store'\nimport NP from 'nprogress'\nimport 'nprogress/nprogress.css'\n\nconst whiteList = ['/login']\n\nrouter.beforeEach(async (to, form, next) => {\n  NP.start()\n\n  if (whiteList.indexOf(to.path) > -1) {\n    next()\n  } else {\n    if (!store.state.appModule.dispatchedTransInOrgList) {\n      try {\n        await store.dispatch('appModule/getTransInOrgList')\n      } catch (error) {\n        console.error(error)\n        next('/login')\n      }\n    }\n\n    next()\n  }\n})\n\nrouter.afterEach((to, from) => {\n  if (to.meta.title) {\n    document.title = to.meta.title || import.meta.env.VITE_APP_TITLE\n  }\n\n  NP.done()\n})\n","<template lang=\"pug\">\n#app\n  router-view\n</template>\n\n<script>\nimport { watch } from 'vue'\nimport { usePreferredColorScheme } from '@vueuse/core'\nimport { useRoute } from 'vue-router/composables'\nimport { useStore } from './hooks/useStore'\n\n/**\n * @type {ReadonlyArray<string>}\n */\nconst themeWhiteList = ['/login']\n\nexport default {\n  name: 'App',\n  setup() {\n    const preferredColor = usePreferredColorScheme()\n    const store = useStore('appModule')\n    const route = useRoute()\n\n    const unWatch = watch(\n      () => route.path,\n      function () {\n        if (store.state.theme.manual) {\n          store.commit('updateTheme', {\n            manual: false,\n            model: store.state.theme.model\n          })\n\n          unWatch()\n          return\n        }\n\n        const model = themeWhiteList.indexOf(route.path) < 0 ? preferredColor.value : 'light'\n\n        store.commit('updateTheme', {\n          manual: false,\n          model\n        })\n\n        unWatch()\n      }\n    )\n  }\n}\n</script>\n","import Vue from 'vue'\nimport ElementUI from 'element-ui'\nimport 'virtual:svg-icons-register'\n\nimport './router/permission'\nimport './styles/index.scss'\n\nimport store from './store'\nimport router from './router'\nimport App from './App.vue'\n\nimport Mixin from './mixins'\nimport Components from './components'\nimport Directive from './directives'\n\nVue.use(ElementUI)\nVue.use(Mixin)\nVue.use(Components)\nVue.use(Directive)\n\n// eslint-disable-next-line no-new\nnew Vue({\n  store,\n  router,\n  render: h => h(App)\n}).$mount('#app')\n"],"names":["whiteList","router","beforeEach","async","to","form","next","NP","start","indexOf","path","store","state","appModule","dispatchedTransInOrgList","dispatch","error","console","afterEach","from","meta","title","document","done","themeWhiteList","name","setup","preferredColor","usePreferredColorScheme","useStore","route","useRoute","unWatch","watch","theme","manual","commit","model","value","Vue","use","ElementUI","Mixin","Components","Directive","render","h","App","$mount"],"mappings":"wTAKA,MAAMA,EAAY,CAAC,UAEnBC,EAAOC,YAAWC,MAAOC,EAAIC,EAAMC,KAGjC,GAFAC,EAAGC,QAECR,EAAUS,QAAQL,EAAGM,OAAY,EAC7BJ,QACD,CACL,IAAKK,EAAMC,MAAMC,UAAUC,yBACrB,UACIH,EAAMI,SAAS,8BACtB,OAAQC,GACPC,QAAQD,MAAMA,GACdV,EAAK,SACN,CAGGA,GACP,KAGHL,EAAOiB,WAAU,CAACd,EAAIe,KAChBf,EAAGgB,KAAKC,QACDC,SAAAD,MAAQjB,EAAGgB,KAAKC,OAAS,mBAGpCd,EAAGgB,MAAM,uGCjBX,MAAAC,EAAA,CAAA,oBAEA,CACAC,KAAA,MACA,KAAAC,GACA,MAAAC,EAAAC,IACAjB,EAAAkB,EAAA,aACAC,EAAAC,IAEAC,EAAAC,GACA,IAAAH,EAAApB,OACA,WACAC,GAAAA,EAAAC,MAAAsB,MAAAC,OAOA,OANAxB,EAAAyB,OAAA,cAAA,CACAD,QAAA,EACAE,MAAA1B,EAAAC,MAAAsB,MAAAG,aAGAL,IAIA,MAAAK,EAAAb,EAAAf,QAAAqB,EAAApB,MAAA,EAAAiB,EAAAW,MAAA,QAEA3B,EAAAyB,OAAA,cAAA,CACAD,QAAA,EACAE,UAGAL,GACA,GAEA,uCC/BAO,EAAIC,IAAIC,GACRF,EAAIC,IAAIE,GACRH,EAAIC,IAAIG,GACRJ,EAAIC,IAAII,GAGR,IAAIL,EAAI,CACN5B,QACAV,SACA4C,OAAaC,GAAAA,EAAEC,KACdC,OAAO"}