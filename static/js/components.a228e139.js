import{f as e,n as t,u as a,h as i,i as n,m as l,j as s,d as r,o,l as c,e as u,p,q as d,g as m,s as h,t as v,w as f,V as g,v as y,r as b}from"./vendor.e75a9f0e.js";import{a as _,_ as w,d as x}from"./libs.ec5fd20d.js";import{u as C,a as S,p as k,o as T,g as M,k as z,b as j,c as P,h as A}from"./common.c8fc7f20.js";var N=function(){var e=this,t=e._self._c;return t("el-header",{staticClass:"layout-header"},[t("el-container",[t("el-container",[t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.updateCurrentMechanism}},[t("el-button",{attrs:{type:"primary"}},[e._v(e._s(e.currentMechanism.mechanismName)),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.organization.mechanismList,(function(a,i){return t("el-dropdown-item",{key:i,attrs:{command:a}},[e._v(e._s(a.mechanismName))])})),1)],1)],1),t("el-container",e._l(e.page,(function(a,i){return t("app-permission",{key:i,attrs:{power:a.power}},[t("el-button",{attrs:{type:"primary"}},[e._v(e._s(a.label))])],1)})),1),t("el-row",{staticStyle:{"column-gap":"10px"},attrs:{align:"middle",type:"flex"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"dark","inactive-value":"light"},model:{value:e.themeMode,callback:function(t){e.themeMode=t},expression:"themeMode"}}),t("a",{attrs:{href:"javascript:;"},on:{click:e.openCalculator}},[t("app-svg-icon",{attrs:{name:"Icon_calculator",size:"30",color:"var(--color-primary)"}})],1)],1)],1),t("app-calculator",{attrs:{visible:e.calculatorVisible},on:{"update:visible":function(t){e.calculatorVisible=t}}})],1)},O=[];const{mapState:D,mapGetters:L,mapMutations:q}=e("appModule");const E=t({name:"layout-header",data:()=>({calculatorVisible:!1}),setup:()=>({page:[{label:"核型分析",power:"analysis"},{label:"样本机构",power:"sample"},{label:"专家会诊",power:"invite"},{label:"病例转交",power:"transfer"}]}),computed:{themeMode:{get(){return this.theme.model},set(e){this.updateTheme({model:e,manual:!0})}},...D(["organization","theme"]),...L(["mechanismMap","currentMechanism"])},methods:{...q(["updateCurrentMechanism","updateTheme"]),openCalculator(){this.calculatorVisible=!0}}},N,O,!1,null,null,null,null).exports;const H=t({name:"LayoutSide",setup(){const e=a(),t=i();return{routes:e.options.routes.filter((e=>e.meta&&!e.meta.hidden)),activeMenu:n((()=>t.meta.activeMenu))}}},(function(){var e=this,t=e._self._c;return t("el-aside",{staticClass:"layout-aside",attrs:{width:"100px"}},[t("el-menu",{style:{minHeight:"100%",backgroundColor:"inherit"},attrs:{router:"","default-active":e.activeMenu}},e._l(e.routes,(function(a){return t("el-menu-item",{key:a.name,attrs:{index:a.path+"/index"}},[t("i",{staticClass:"el-icon-document"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.meta.title))])])})),1)],1)}),[],!1,null,null,null,null).exports;const F=t({name:"AppLayout",props:{offset:{type:[Boolean,Array],default:!0}},components:{LayoutHeader:E,LayoutSide:H},computed:{...l("appModule",["currentMechanism"]),mainStyle(){if(Array.isArray(this.offset)){const[e,t]=this.offset;return{paddingLeft:t,paddingRight:t,paddingTop:e,paddingBottom:e}}return this.offset?{padding:"20px"}:null}}},(function(){var e=this,t=e._self._c;return t("el-container",{staticStyle:{height:"inherit"}},[t("LayoutSide"),t("el-container",{staticClass:"layout-main",attrs:{direction:"vertical"}},[t("LayoutHeader"),t("main",{staticClass:"layout-content",style:e.mainStyle},[t("router-view",{key:e.currentMechanism.mechanismId})],1)],1)],1)}),[],!1,null,null,null,null).exports;var $=function(){return(0,this._self._c)("router-view")},B=[];const I=t({name:"PageView",setup(){}},$,B,!1,null,null,null,null).exports,V=s({name:"AppBigScreen",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},wrapperStyle:{type:Object,default:()=>({})},wrapperClass:{type:String,required:!1}},setup(e){const t=r(1),a=function(){const a=document.documentElement.clientWidth,i=document.documentElement.clientHeight;a/i<e.width/e.height?t.value=a/e.width:t.value=i/e.height};return o((function(){window.addEventListener("resize",a),window.dispatchEvent(new Event("resize"))})),c((function(){window.removeEventListener("resize",a)})),{scale:t}},render(e){return e("section",{style:{position:"absolute",width:this.width+"px",height:this.height+"px",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},[e("div",{class:this.wrapperClass,style:{...this.wrapperStyle,position:"relative",width:"100%",height:"100%",transform:"scale3d(".concat(this.scale,", ").concat(this.scale,", 1)")}},[this.$slots.default])])}}),R=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"}));var Y=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("el-dialog",{attrs:{title:"计算器",width:"450px","append-to-body":"","custom-class":"calc-dialog",visible:e.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.calcHandle({type:"ac"})}}},[t("section",{staticClass:"calc-container"},[t("div",{staticClass:"calc-display"},[t("div",{staticClass:"calc-display-inner"},[t("p",{staticClass:"calc-display-process"},[e._v(e._s(e._f("formatProcessText")(e.processText)))]),t("p",{staticClass:"calc-display-result"},[e._v(e._s(e.resultText))])])]),t("ol",{staticClass:"calc-keys"},e._l(e.grid,(function(a){return t("li",{key:a.label,staticClass:"calc-key",class:a.type,on:{click:function(t){return e.calcHandle(a)}}},[e._v(e._s(a.label))])})),0)])])},G=[];const K=u({leftBracket:"(",rightBracket:")",percent:"%",ac:"ac",number0:"0",number1:"1",number2:"2",number3:"3",number4:"4",number5:"5",number6:"6",number7:"7",number8:"8",number9:"9",plus:"+",minus:"-",times:"*",divide:"/",point:".",equal:"="}),Q=Object.freeze([{label:"(",key:K.leftBracket,code:"Digit9",type:"symbol"},{label:")",key:K.rightBracket,code:"Digit0",type:"symbol"},{label:"%",key:K.percent,code:"Digit5",type:"symbol"},{label:"AC",key:K.ac,code:"Backspace",type:"ac"},{label:"7",key:K.number7,value:"7",code:"Numpad7|Digit7",type:"number"},{label:"8",key:K.number8,value:"8",code:"Numpad8|Digit8",type:"number"},{label:"9",key:K.number9,value:"9",code:"Numpad9|Digit9",type:"number"},{label:"÷",key:K.divide,map:"divide",code:"NumpadDivide",type:"operator"},{label:"4",key:K.number4,value:"4",code:"Numpad4|Digit4",type:"number"},{label:"5",key:K.number5,value:"5",code:"Numpad5|Digit5",type:"number"},{label:"6",key:K.number6,value:"6",code:"Numpad6|Digit6",type:"number"},{label:"×",key:K.times,map:"times",code:"NumpadMultiply",type:"operator"},{label:"1",key:K.number1,value:"1",code:"Numpad1|Digit1",type:"number"},{label:"2",key:K.number2,value:"2",code:"Numpad2|Digit2",type:"number"},{label:"3",key:K.number3,value:"3",code:"Numpad3|Digit3",type:"number"},{label:"-",key:K.minus,map:"minus",code:"NumpadSubtract",type:"operator"},{label:"0",key:K.number0,value:"0",code:"Numpad0|Digit0",type:"number"},{label:".",key:K.point,code:"NumpadDecimal|Period",type:"symbol"},{label:"=",key:K.equal,code:"Equal",type:"equal"},{label:"+",key:K.plus,map:"plus",code:"NumpadAdd|Equal",type:"operator"}]),W=new Map(Q.map((e=>[e.key,e])));const J=t(s({name:"app-calculator",props:{visible:{type:Boolean}},filters:{formatProcessText(e){if(e)return e.replace(/[+\-×÷]/g,(function(e){return" "+e+" "}))}},data:()=>({result:null,processText:null,queue:[],grid:Q}),computed:{dialogVisible:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},resultText(){return this.result?this.result:this.queue.reduce((function(e,t){return e.concat(t.label)}),"")}},mounted(){const e=this,t=function(t){const a=W.get(t.key);"Enter"!==t.key?(a&&(console.log(a.key),e.calcHandle(a)),"Backspace"===t.key&&e.queue.pop()):e.calcHandle(W.get("="))};document.addEventListener("keyup",t),this.$once("hook:beforeDestroy",(function(){document.removeEventListener("keyup",t)}))},methods:{calc(e){const t=e.shift(),a=p(t.value);for(let i=1;i<e.length;i++){const t=e[i-1],n=e[i];t.map&&a[t.map](n.value)}return a.exec()},calcHandle(e){if("ac"===e.type)return this.queue.splice(0),this.processText=null,void(this.result=null);if("equal"!==e.type)this.queue.push(e);else{console.log("计算");try{const e=this.processCalcQueue(this.queue);this.result=e,this.processText=this.queue.reduce((function(e,t){return e.concat(t.label)}),"")}catch(t){this.result="Error"}}},processCalcQueue(e,t=!1){const a=[],i=[];let n=!1;for(let s=0;s<e.length;s++){const l=e[s],r=a.at(-1),o=i.at(-1);if(l.key!==K.leftBracket)if(l.key!==K.rightBracket)if("number"!==l.type){if(l.key===K.percent){if(o){o.push(l);continue}if(r){r.value=this.calc([r,{map:"divide",key:"/"},{value:100}]);continue}}if(l.key!==K.times&&l.key!==K.divide)if(l.key!==K.plus&&l.key!==K.minus){if(l.key===K.point){if(o){o.push(l);continue}if(r){r.value=String(r.value)+l.key,r.label=r.value;continue}}o?o.push(l):a.push(l)}else{if(n){i.pop();const e=this.processCalcQueue(o,!0),t=i.at(-1);if(t){t.push({value:e,type:"number"});continue}a.push({value:e,type:"number"}),a.push(l);continue}if(n=!1,o){o.push(l);continue}a.push(l)}else{if(t){a.push(l);continue}if(o){o.push(l);continue}n=!0;const e=a.pop();i.push([e,{map:l.key===K.times?"times":"divide",key:l.key}])}}else{const e={value:l.value,type:"number"};if(o){o.push(l);continue}if(r&&"number"===r.type){r.value=String(r.value)+l.key,r.label=r.value;continue}a.push(e)}else{o&&i.pop();const e=this.processCalcQueue(o,!1),t=i.at(-1);if(t){t.push({value:e,type:"number"});continue}a.push({value:e,type:"number"})}else n=!1,i.push([])}const l=i.at(-1);if(l){const e=this.processCalcQueue(l,!0);a.push({value:e,type:"number"})}return this.calc(a)}}}),Y,G,!1,null,null,null,null).exports,Z=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));function X(e,t){return new Date(e,t+1,0).getDate()}const U=s({name:"app-calendar",props:{value:{type:Date,default:()=>new Date}},setup(e,t){const a=r(e.value);return{renderDays:function(e,i){const n=[];let l=X(a.value.getFullYear(),a.value.getMonth()-1);const s=e||7;for(let t=0;t<s;t++)n.unshift({prevMonth:!0,nextMonth:!1,value:l-=1});for(let t=1;t<=i;t++)n.push({prevMonth:!1,nextMonth:!1,value:t});const r=42-n.length;for(let t=1;t<=r;t++)n.push({prevMonth:!1,nextMonth:!0,value:t});return _(n,7).map((function(e){return d("tr",[e.map((e=>d("td",{key:e.value,on:{click:function(){let i=a.value.getMonth();e.nextMonth&&(i+=1),e.prevMonth&&(i-=1),function(e,i,n){a.value=new Date(e,i,n),t.emit("input",a.value)}(a.value.getFullYear(),i,e.value)}},class:["day",{"next-month":e.nextMonth,"prev-month":e.prevMonth,current:a.value.getDate()===e.value&&!e.nextMonth&&!e.prevMonth}]},[d("span",[e.value])])))])}))},dayCount:n((function(){return X(a.value.getFullYear(),a.value.getMonth())})),firstDay:n((function(){return e=a.value.getFullYear(),t=a.value.getMonth(),new Date(e,t,1).getDay();var e,t})),date:a,monthMap:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],prevMonth:function(){a.value=new Date(a.value.getFullYear(),a.value.getMonth()-1,1),t.emit("input",a.value)},nextMonth:function(){a.value=new Date(a.value.getFullYear(),a.value.getMonth()+1,1),t.emit("input",a.value)}}},render(){return d("div",{class:"app-calendar"},[d("div",{class:"app-calendar__header"},[d("a",{attrs:{href:"javascript:;"},class:"app-calendar__icon-btn el-icon-arrow-left",on:{click:this.prevMonth}}),d("span",{class:"flex1 app-calendar__header-label"},[this.date.getFullYear(),"年",this.monthMap[this.date.getMonth()]]),d("a",{attrs:{href:"javascript:;"},class:"app-calendar__icon-btn el-icon-arrow-right",on:{click:this.nextMonth}})]),d("div",{class:"app-calendar-pane__content"},[d("table",{class:"app-calendar-table"},[d("tbody",[d("tr",[d("th",["日"]),d("th",["一"]),d("th",["二"]),d("th",["三"]),d("th",["四"]),d("th",["五"]),d("th",["六"])]),this.renderDays(this.firstDay,this.dayCount)])])])])}}),ee=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}));const te=t({name:"AppCard",props:{type:{type:String,required:!1},flex1:{type:Boolean,default:!1},direction:{type:String,required:!1}}},(function(e,t){return e("div",{staticClass:"app-card",class:[t.data.staticClass,{flex1:t.props.flex1,"app-card--flex":"flex"===t.props.type,"app-card--vertical":"vertical"===t.props.direction,"app-card--horizontal":"horizontal"===t.props.direction}]},[t._t("default")],2)}),[],!0,null,null,null,null).exports,ae=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),ie={vertical:"height",horizontal:"width"},ne=["horizontal","vertical"],le=s({name:"AppCollapseTransition",props:{direction:{type:String,default:"vertical",validator:e=>ne.indexOf(e)>-1},size:{type:Number,required:!1},tag:{type:[Boolean,String],default:!1},visible:{type:Boolean,default:!1}},setup:e=>({transitionAttribute:ie[e.direction],transitionSize:e.size?e.size+"px":null}),methods:{beforeEnter(e){e.style[this.transitionAttribute]="0px",e.style.overflow=e.dataset.overflow,e.style.transitionProperty=this.transitionAttribute,e.style.transitionTimingFunction="ease",e.style.transitionDuration="400ms"},enter(e,t){setTimeout((()=>{e.style[this.transitionAttribute]=e.dataset.size||this.transitionSize,setTimeout((()=>{t()}),400)}),0)},afterEnter(e){e.style.transitionProperty="",e.style.transitionTimingFunction="",e.style.transitionDuration=""},beforeLeave(e){e.dataset.size=this.transitionSize||window.getComputedStyle(e)[this.transitionAttribute],e.style.overflow="hidden",e.style[this.transitionAttribute]=e.dataset.size,e.style.transitionProperty=this.transitionAttribute,e.style.transitionTimingFunction="ease",e.style.transitionDuration="400ms"},leave(e,t){e.style[this.transitionAttribute]="0px",setTimeout((()=>{t()}),400)},afterLeave(e){e.style.overflow=e.dataset.overflow,e.style[this.transitionAttribute]="",e.style.transitionProperty="",e.style.transitionTimingFunction="",e.style.transitionDuration=""}},render(e){const t=(a=this).tag?e(a.tag,{style:{overflow:"hidden",width:a.transitionSize},directives:[{name:"show",rawName:"v-show",value:a.visible,expression:"visible"}]},[a.$slots.default]):a.$slots.default;var a;return e("transition",w([{attrs:{css:!1}},{on:{beforeEnter:this.beforeEnter,enter:this.enter,afterEnter:this.afterEnter,beforeLeave:this.beforeLeave,leave:this.leave,afterLeave:this.afterLeave}}]),[[t]])}}),se=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));var re=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("transition",{attrs:{css:!1},on:{afterleave:e.afterLeave,leave:e.leave,beforeleave:e.beforeLeave,afterenter:e.afterEnter,enter:e.enter,beforeenter:e.beforeEnter}},[e.tag?t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],style:{overflow:"hidden",width:e.transitionSize}},[e._t("default")],2):e._t("default")],2)},oe=[];const ce={vertical:"height",horizontal:"width"},ue=["horizontal","vertical"];const pe=t(s({name:"AppCollapseTransition2",props:{direction:{type:String,default:"vertical",validator:e=>ue.indexOf(e)>-1},size:{type:Number,required:!1},tag:{type:[Boolean,String],default:!1},visible:{type:Boolean,default:!1}},setup:e=>({transitionAttribute:ce[e.direction],transitionSize:e.size?e.size+"px":null}),methods:{beforeEnter(e){e.style[this.transitionAttribute]="0px",e.style.overflow=e.dataset.overflow,e.style.transitionProperty=this.transitionAttribute,e.style.transitionTimingFunction="ease",e.style.transitionDuration="400ms",console.log(e,"beforeEnter"),console.log(this,"beforeEnter")},enter(e,t){setTimeout((()=>{e.style[this.transitionAttribute]=e.dataset.size||this.transitionSize,setTimeout((()=>{t()}),400)}),0)},afterEnter(e){e.style.transitionProperty="",e.style.transitionTimingFunction="",e.style.transitionDuration="",console.log(e,"afterEnter")},beforeLeave(e){e.dataset.size=this.transitionSize||window.getComputedStyle(e)[this.transitionAttribute],e.style.overflow="hidden",e.style[this.transitionAttribute]=e.dataset.size,e.style.transitionProperty=this.transitionAttribute,e.style.transitionTimingFunction="ease",e.style.transitionDuration="400ms",console.log(e.scrollHeight,"beforeLeave")},leave(e,t){e.style[this.transitionAttribute]="0px",setTimeout((()=>{console.log(e,"leave"),t()}),400)},afterLeave(e){e.style.overflow=e.dataset.overflow,e.style[this.transitionAttribute]="",e.style.transitionProperty="",e.style.transitionTimingFunction="",e.style.transitionDuration="",console.log(e,"afterLeave")}}}),re,oe,!1,null,null,null,null).exports,de=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));const me=t({name:"AppDataView",inject:["page"],props:{pagination:{type:Boolean,default:!1}},provide(){return{dataView:this}},setup(){}},(function(){var e=this,t=e._self._c;return t("app-card",{attrs:{type:"flex",direction:"vertical",flex1:""}},[e._t("default"),e.pagination?t("el-row",{staticClass:"app-pagination",attrs:{type:"flex",justify:"end"}},[t("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"",total:e.page.pagination.total,"current-page":e.page.pagination.current,"page-size":e.page.pagination.limit},on:{"update:currentPage":function(t){return e.$set(e.page.pagination,"current",t)},"update:current-page":function(t){return e.$set(e.page.pagination,"current",t)},"update:pageSize":function(t){return e.$set(e.page.pagination,"limit",t)},"update:page-size":function(t){return e.$set(e.page.pagination,"limit",t)}}})],1):e._e()],2)}),[],!1,null,null,null,null).exports,he=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));const ve=t({name:"AppFormCollapse",props:{visible:Boolean,height:{type:Number,default:51}},setup(e){const{maxHeight:t,open:a}=function(e){const t=r(e),a=r(!1),i=m().proxy,n=x((function(e){t.value=i.$el.scrollHeight,e&&(a.value=!1)}));return o(n),c((function(){window.removeEventListener("resize",n)})),window.addEventListener("resize",n),{maxHeight:t,open:a}}(e.height);return{maxHeight:t,open:a}},computed:{text(){return this.open?"收起":"展开"},icon(){return this.open?"el-icon-arrow-up":"el-icon-arrow-down"},collapseStyle(){return{height:this.open?this.maxHeight+"px":this.height+"px"}},showToggleCollapse(){return this.height<this.maxHeight}},methods:{toggleCollapse(){this.open=!this.open,this.$emit("change",this.open)}},watch:{visible(e){this.maxHeight||e&&window.dispatchEvent(new Event("resize"))}}},(function(){var e=this,t=e._self._c;return t("el-row",{staticClass:"app-form-collapse",style:e.collapseStyle},[t("el-col",{staticClass:"app-form-collapse__content"},[e._t("default")],2),t("div",{staticClass:"app-form-collapse__action"},[e._t("action"),t("transition",{attrs:{name:"fade"}},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showToggleCollapse,expression:"showToggleCollapse"}],attrs:{type:"text",size:"small",icon:e.icon},on:{click:function(t){return e.toggleCollapse()}}},[e._v(e._s(e.text))])],1)],2)],1)}),[],!1,null,null,null,null).exports,fe=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"}));const ge=t({name:"AppFormTabPane",inject:["rootTabs"],props:{disabled:Boolean,name:{type:String,required:!0},title:{type:String,required:!0}},computed:{active(){return this.rootTabs.currentName===this.name}}},(function(){var e=this;return(0,e._self._c)("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"app-form-tab-pane"},[e._t("default",null,{visible:e.active})],2)}),[],!1,null,null,null,null).exports,ye=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"}));const be=t({name:"AppFormTab",props:{value:{type:String,required:!0}},provide(){return{rootTabs:this}},setup(){const{panes:e,barStyle:t}=function(){const e=m().proxy,t=h(),a=r([]),i=r(null);return o((function(){if(t.default){const e=t.default().filter((function(e){return e.tag&&e.componentOptions&&"AppFormTabPane"===e.componentOptions.Ctor.options.name})).map((({componentInstance:e})=>e));a.value=e}})),o((function(){v((function(){const t=e.$refs.tabNav,a=Object.create(null);t.forEach((function(e){a[e.id]={width:e.offsetWidth,offset:e.offsetLeft}})),i.value=a}))})),{panes:a,barStyle:i}}();return{panes:e,barStyle:t}},data:()=>({currentName:""}),created(){this.currentName=this.value},methods:{handleTabClick(e,t,a){e.disabled||(this.currentName=t,this.$emit("input",t),this.$emit("change",t),this.$emit("tab-click",e,a))}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-tabs"},[t("div",{staticClass:"app-tabs__header"},[t("ol",{staticClass:"app-tabs-nav"},[e.barStyle?t("li",{staticClass:"app-tabs__active-bar",style:{width:e.barStyle[e.currentName].width+"px",transform:"translateX(".concat(e.barStyle[e.currentName].offset,"px)")}}):e._e(),e._l(e.panes,(function(a){return t("li",{key:a.name,ref:"tabNav",refInFor:!0,staticClass:"app-tabs-nav__item",class:{active:e.currentName===a.name},attrs:{href:"javascript:;",id:a.name},on:{click:function(t){return e.handleTabClick(a,a.name,t)}}},[t("a",{attrs:{href:"javascript:;"}},[e._v(e._s(a.title))])])}))],2),t("hr",{staticClass:"app-tabs__line"})]),t("div",{staticClass:"app-tabs__content"},[e._t("default")],2)])}),[],!1,null,null,null,null).exports,_e=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),we=["horizontal","vertical"],xe={horizontal:e=>["100%","".concat(e,"px"),"0 0 ".concat(e,"px")],vertical:e=>["".concat(e,"px"),"100%","0 0 ".concat(e,"px")]};const Ce=t({name:"AppGap",props:{gap:{type:Number,default:2},direction:{type:String,default:"horizontal",validator:e=>we.indexOf(e)>-1}},setup(e){const[t,a,i]=xe[e.direction](e.gap);return{style:{width:t,height:a,flex:i}}}},(function(){return(0,this._self._c)("hr",{staticClass:"app-gap",style:this.style})}),[],!1,null,null,null,null).exports,Se=Object.freeze(Object.defineProperty({__proto__:null,default:Ce},Symbol.toStringTag,{value:"Module"})),ke=s({functional:!0,name:"AppGrid",props:{column:{type:Number,default:1},columnWidth:{type:String,default:"1fr"},row:{type:Number,required:!1},rowHeight:{type:String,default:"1fr"},align:{type:String,default:"top"},justify:{type:String,default:"left"},center:{type:Boolean,default:!1},gap:{type:String,required:!1}},render(e,t){const a=t.props;return e("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(a.column,", ").concat(a.columnWidth,")"),gridTemplateRows:a.row?"repeat(".concat(a.row,", ").concat(a.rowHeight,")"):"auto",justifyItems:a.center?"center":a.justify,alignItems:a.center?"center":a.align,gap:a.gap,...t.data.staticStyle,...t.data.staticClass}},[t.slots().default])}}),Te=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"}));var Me=function(){var e=this,t=e._self._c;return t("aside",{staticClass:"app-page-aside"},[t("h3",{staticClass:"app-page-aside__head"},[e._v(e._s(e.title))]),t("hr",{staticClass:"app-page-aside__gap"}),t("nav",{staticClass:"app-page-aside__menu"},e._l(e.menu,(function(a,i){return t("a",{key:i,staticClass:"app-page-aside__menu__item",class:{current:e.tabActive===a.name},attrs:{href:"javascript:;"},on:{click:function(t){return e.changeTab(a.name)}}},[e._v(e._s(a.label))])})),0)])},ze=[];const je=t({name:"AppPageAside",props:{value:{type:String,required:!1},title:{type:String,required:!0},menu:{type:Array,default:()=>[]}},setup(e){const{tabActive:t,changeTab:a}=C(e.value);return f((()=>e.value),(function(e){t.value=e})),{tabActive:t,changeTab:a}}},Me,ze,!1,null,null,null,null).exports,Pe=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"})),Ae={name:"AppPage",props:{direction:{type:String,default:"vertical"}},data:()=>({loading:!0}),mounted(){setTimeout((()=>{this.loading=!1}),500)},render(e){return e("div",{class:["app-page","is-"+this.direction],directives:[{name:"loading",value:this.loading}]},[this.$slots.default])}},Ne=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"}));const Oe=t({name:"PatientData",setup(){const e=r(!0),t=n((()=>e.value?"bottom":"top"));return{visible:e,toggle:function(){e.value=!e.value},toggleIcon:t}}},(function(){var e=this,t=e._self._c;return t("section",{staticClass:"patient-data"},[t("div",{staticClass:"patient-data__head"},[t("h4",{staticClass:"patient-data__title"},[e._v("病例信息")]),t("a",{class:["el-icon-caret-"+e.toggleIcon],attrs:{href:"javascript:;"},on:{click:function(t){return e.toggle()}}})]),t("app-collapse-transition",[t("section",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"patient-data__desc"},[e._v(" 666 ")])])],1)}),[],!1,null,null,null,null).exports;const De=t(g.extend({name:"PatientItem",mixins:[y({request:function(e){return console.log(e),b(Array.from({length:e.length||20},((e,t)=>({name:"王小虎",address:"上海市普陀区金沙江路 151".concat(t," 弄")}))))},timeFieldMap:{dateTime:["startTime","endTime"]}})],components:{PatientData:Oe},props:{local:{type:Boolean,default:!0}},filters:{formatFirstName:e=>e.charAt(0)},setup(){const{value:e,toggle:t}=S();return{advancedSearchVisible:e,advancedSearchToggle:t}},data:()=>({advancedSearch:!1,form:{patientNo:"",startTime:"",endTime:""},patientList:k,organization:T})}),(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("el-form",{staticClass:"patient-pane",attrs:{size:"small"}},[t("app-collapse-transition",{attrs:{visible:e.advancedSearchVisible,size:240,tag:"section",direction:"horizontal"}},[t("el-row",{staticClass:"patient-advanced-search"},[t("h4",{staticClass:"patient-advanced-search__title"},[e._v("病例筛选")]),t("ul",{staticClass:"patient-advanced-search__items"},[t("li",{staticClass:"patient-advanced-search__item"},[t("div",{staticClass:"patient-advanced-search__label"},[e._v("排序")]),t("ol",{staticClass:"patient-advanced-search__inner"},[t("li",[t("el-button",{attrs:{size:"medium"}},[e._v("导入时间：远-近")])],1),t("li",[t("el-button",{attrs:{size:"medium"}},[e._v("导入时间：近-远")])],1),t("li",[t("el-button",{attrs:{size:"medium"}},[e._v("病例号：A-Z")])],1),t("li",[t("el-button",{attrs:{size:"medium"}},[e._v("病例号：Z-A")])],1)])]),t("li",{staticClass:"patient-advanced-search__item"},[t("div",{staticClass:"patient-advanced-search__label"},[e._v("上传时间")]),t("ol",{staticClass:"patient-advanced-search__inner"},[t("li",[t("el-form-item",{attrs:{prop:"startTime"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1)],1)])]),t("li",{staticClass:"patient-advanced-search__item"},[t("div",{staticClass:"patient-advanced-search__label"},[e._v("报告状态")]),t("ol",{staticClass:"patient-advanced-search__inner"},[t("li",[t("el-button",{attrs:{size:"medium"}},[e._v("未出报告")])],1),t("li",[t("el-button",{attrs:{size:"medium"}},[e._v("已出报告")])],1)])]),t("li",{staticClass:"patient-advanced-search__item"},[t("div",{staticClass:"patient-advanced-search__label"},[e._v("复检状态")]),t("ol",{staticClass:"patient-advanced-search__inner"},[t("li",[t("el-button",{attrs:{size:"medium"}},[e._v("需复检")])],1)])])])])],1),t("el-container",{attrs:{direction:"vertical"}},[t("el-container",{staticStyle:{overflow:"hidden"}},[t("ul",{directives:[{name:"show",rawName:"v-show",value:!e.advancedSearchVisible&&!e.local,expression:"!advancedSearchVisible && !local"}],staticClass:"patient-pane-org"},e._l(e.organization.data,(function(a,i){return t("li",{key:i,staticClass:"patient-pane-org__item"},[e._v(" "+e._s(e._f("formatFirstName")(a.name))),t("span")])})),0),t("el-container",{staticClass:"patient-pane__inner",attrs:{direction:"vertical"}},[t("el-form-item",{attrs:{prop:"patientNo"}},[t("div",{staticClass:"patient-pane__search"},[t("a",{staticClass:"el-icon-s-operation",attrs:{href:"javascript:;"},on:{click:function(t){return e.advancedSearchToggle()}}}),t("el-input",{attrs:{placeholder:"请输入病例号"},model:{value:e.form.patientNo,callback:function(t){e.$set(e.form,"patientNo",t)},expression:"form.patientNo"}})],1)]),t("el-container",{staticClass:"patient-pane__content"},[t("ul",{staticClass:"patient-pane-list"},e._l(e.patientList.data,(function(a,i){return t("li",{key:i,staticClass:"patient-pane-list-item"},[t("i",{staticClass:"el-icon-s-order"}),t("div",{staticClass:"patient-pane__name",attrs:{title:a.name}},[e._v(e._s(e._f("formatFirstName")(a.name)))]),t("div",{staticClass:"patient-pane__status"},[t("i",{staticClass:"el-icon-info"}),t("i",{staticClass:"el-icon-question"})])])})),0)])],1),t("app-gap")],1),t("PatientData")],1)],1)}),[],!1,null,null,null,null).exports;const Le=t({name:"PatientAside",components:{patientItemOne:De.extend({name:"patientItemOne"}),patientItemTwo:De.extend({name:"patientItemTwo"})},setup(){const{tabActive:e,changeTab:t}=C("patient-item-one");return{local:n((()=>"patient-item-one"===e.value)),tabActive:e,changeTab:t}}},(function(){var e=this,t=e._self._c;return t("aside",{staticClass:"patient-aside"},[t("div",{staticClass:"patient-tab"},[t("a",{staticClass:"patient-tab-item local",class:{active:"patient-item-one"===e.tabActive},attrs:{href:"javascript:;"},on:{click:function(t){return e.changeTab("patient-item-one")}}},[t("span",[e._v("本机构病例")]),t("i")]),t("a",{staticClass:"patient-tab-item other",class:{active:"patient-item-two"===e.tabActive},attrs:{href:"javascript:;"},on:{click:function(t){return e.changeTab("patient-item-two")}}},[t("span",[e._v("其他转入病例")]),t("i")])]),t("div",{staticClass:"patient-tab-content flex1"},[t(e.tabActive,{tag:"component",attrs:{local:e.local}})],1)])}),[],!1,null,null,null,null).exports,qe=[{gridTemplateColumns:"repeat(3, 1fr)"},{gridTemplateColumns:"repeat(4, 1fr)"},{gridTemplateColumns:"repeat(5, 1fr)"},{gridTemplateColumns:"repeat(6, 1fr)"},{gridTemplateColumns:"repeat(8, 1fr)"}],Ee=qe.length-1;const He=t({name:"PatientGridModel",props:{data:{type:Array,default:()=>[]},scale:{type:Number,required:!0}},setup(e){const t=r(qe[e.scale]);return f((()=>e.scale),(function(e){e>qe.length?console.error("超出最大scale范围","0 - ".concat(qe.length)):t.value=qe[e]})),{patientStyle:t}}},(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"patient-grid-model",style:e.patientStyle},e._l(e.data,(function(a,i){return t("li",{key:i,staticClass:"patient-item"},[t("el-image",{staticClass:"patient-item__image",attrs:{src:a.arrayedFig,fit:"cover"}}),t("div",{staticClass:"patient-item__desc"},[e._v(" "+e._s(a.patientName)+" ")])],1)})),0)}),[],!1,null,null,null,null).exports;const Fe=t({name:"PatientListModel",props:{data:{type:Array,default:()=>[]}},setup:()=>({column:[{label:"病例名称",prop:"patientName",align:"center"},{label:"玻片号",prop:"glassSlide",align:"center"},{label:"排列图",prop:"arrayedFig",align:"center"},{label:"计数数量",prop:"countNum",align:"center"},{label:"核型表达式",prop:"karyotypeExpression",align:"center"}]})},(function(){var e=this,t=e._self._c;return t("el-table",{attrs:{data:e.data,height:"100%"}},e._l(e.column,(function(a){return t("el-table-column",e._b({key:a.id,scopedSlots:e._u([{key:"default",fn:function({row:i}){return["arrayedFig"===a.prop?t("el-image",{staticStyle:{width:"150px",height:"100px"},attrs:{fit:"cover",src:i.arrayedFig}}):t("span",[e._v(e._s(i[a.prop]))])]}}],null,!0)},"el-table-column",a,!1))})),1)}),[],!1,null,null,null,null).exports,$e=new Map,Be={register(e,t){$e.has(e)||$e.set(e,t)},show(e){for(const[t,a]of $e)t!==e&&(a.visible=!1)},hide(e){$e.get(e).visible=!1},deregister(e){$e.delete(e)}};function Ie(e){return"number"==typeof e?e+"px":e}const Ve=t({name:"AppPatient",components:{PatientAside:Le,PatientGridModel:He,PatientListModel:Fe,PatientToolbar:t({name:"PatientToolbar",components:{PatientPopover:t({name:"PatientPopover",props:{popoverClass:String,width:{type:[String,Number],required:!0},height:{type:[String,Number],required:!0}},setup(){const e=r(null),t=r(!1),a=m().proxy,i=n((()=>t.value?"bottom":"top")),l=function(i){i.target===e.value?(Be.show(a._uid),t.value=!t.value):t.value=!1};return o((function(){Be.register(a._uid,a),document.body.addEventListener("pointerdown",l)})),c((function(){Be.deregister(a._uid),document.body.removeEventListener("pointerdown",l)})),{visible:t,toggleIcon:i,toggle:l,iconRef:e}},computed:{popoverStyle(){return{height:Ie(this.height),width:Ie(this.width)}}}},(function(){var e=this,t=e._self._c;return t("section",{staticClass:"patient-popover",style:e.popoverStyle},[t("div",{staticClass:"patient-popover__inner",class:[e.popoverClass]},[e._t("default"),t("i",{ref:"iconRef",class:["el-icon-caret-"+e.toggleIcon],on:{pointerdown:function(t){return t.stopPropagation(),e.toggle(t)}}}),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"patient-popover__content",on:{pointerdown:function(t){return t.stopPropagation(),e.noop.apply(null,arguments)}}},[e._t("content")],2)],2)])}),[],!1,null,null,null,null).exports,PatientPopoverItem:t({name:"PatientPopoverItem"},(function(e,t){return e("li",{class:t.data.staticClass},[t._t("default")],2)}),[],!0,null,null,null,null).exports},setup:()=>({glassSlide:M.data,karyotype:z.data})},(function(){var e=this,t=e._self._c;return t("el-row",{staticClass:"patient-toolbar",attrs:{type:"flex"}},[t("el-row",{attrs:{type:"flex"}},[t("ul",{staticClass:"patient-toolbar-list"},e._l(e.glassSlide,(function(a,i){return t("li",{key:i,staticClass:"glass-cell"},[t("label",{staticClass:"glass-label"},[e._v(e._s(a.name)+"：")]),i===e.glassSlide.length-1?t("PatientPopover",{attrs:{"popover-class":"glass-popover",width:60,height:24}},[t("span",[e._v(e._s(a.value[0]))]),e._l(a.value,(function(a,i){return t("PatientPopoverItem",{key:i,attrs:{slot:"content"},slot:"content"},[e._v(e._s(a))])}))],2):t("span",{staticClass:"glass-value"},[e._v(e._s(a.value[0])+"个")])],1)})),0),t("div",{staticClass:"toolbar-gap"}),t("ul",{staticClass:"patient-toolbar-list"},e._l(e.glassSlide,(function(a,i){return t("li",{key:i,staticClass:"glass-cell"},[t("label",{staticClass:"glass-label"},[e._v(e._s(a.name)+"：")]),i===e.glassSlide.length-1?t("PatientPopover",{attrs:{"popover-class":"glass-popover",width:50,height:24}},[t("span",[e._v(e._s(a.value[0]))]),e._l(a.value,(function(a,i){return t("PatientPopoverItem",{key:i,attrs:{slot:"content"},slot:"content"},[e._v(e._s(a))])}))],2):t("span",{staticClass:"glass-value"},[e._v(e._s(a.value[0])+"个")])],1)})),0),t("div",{staticClass:"toolbar-gap"}),t("ul",{staticClass:"patient-toolbar-list"},e._l(e.glassSlide,(function(a,i){return t("li",{key:i,staticClass:"glass-cell"},[t("label",{staticClass:"glass-label"},[e._v(e._s(a.name)+"：")]),i===e.karyotype.length-1?t("PatientPopover",{attrs:{"popover-class":"glass-popover",width:60,height:24}},[t("span",[e._v(e._s(a.value[0]))]),e._l(a.value,(function(a,i){return t("PatientPopoverItem",{key:i,attrs:{slot:"content"},slot:"content"},[e._v(e._s(a))])}))],2):t("span",{staticClass:"glass-value"},[e._v(e._s(a.value[0])+"个")])],1)})),0)]),t("div",{staticClass:"flex1"}),t("div",{staticClass:"app-patient-action"},[t("el-button",{attrs:{type:"primary",size:"small"}},[e._v("完成病例分析")]),t("el-button",{attrs:{type:"primary",size:"small"}},[e._v("追加分析")])],1)],1)}),[],!1,null,null,null,null).exports,PatientModelSwitch:t({name:"PatientModelSwitch",props:{value:{type:Boolean,default:!1}},setup(e){const{isDarkModel:t,isLightModel:a}=function(){const e=j("appModule");return{isLightModel:n((()=>e.getters.isLightModel)),isDarkModel:n((()=>e.getters.isDarkModel))}}(),{value:i,toggle:l}=S(e.value);return f((()=>e.value),(function(e){i.value=e})),{isThumbnail:i,toggle:l,isDarkModel:t,isLightModel:a}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"patient-model-switch",class:{"is-thumbnail":e.isThumbnail,"is-dark":e.isDarkModel,"is-light":e.isLightModel}},[t("a",{staticClass:"patient-model-switch__item",attrs:{href:"javascript:;"},on:{click:function(t){return e.toggle(!0)}}}),t("a",{staticClass:"patient-model-switch__item",attrs:{href:"javascript:;"},on:{click:function(t){return e.toggle(!1)}}})])}),[],!1,null,null,null,null).exports},setup(){const e=r(0),t=r(!1);return{patients:r(P.data),scale:e,maxScale:Ee,isThumbnail:t}}},(function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"app-patient"},[t("PatientAside"),t("app-gap",{attrs:{gap:12,direction:"vertical"}}),t("el-container",[t("el-container",{attrs:{direction:"vertical"}},[t("PatientToolbar"),t("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex"}},[t("div",{staticClass:"flex1"}),t("PatientModelSwitch",{model:{value:e.isThumbnail,callback:function(t){e.isThumbnail=t},expression:"isThumbnail"}})],1),t("section",{staticClass:"patient-list-container"},[t("app-scale",{directives:[{name:"show",rawName:"v-show",value:e.isThumbnail,expression:"isThumbnail"}],attrs:{scale:e.scale,"max-scale":e.maxScale,"mini-scale":0,natural:!1},on:{"update:scale":function(t){e.scale=t}}}),t("keep-alive",[e.isThumbnail?t("PatientGridModel",{attrs:{data:e.patients,scale:e.scale}}):t("PatientListModel",{attrs:{data:e.patients}})],1)],1)],1)],1)],1)}),[],!1,null,null,null,null).exports,Re=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),Ye={name:"AppPermission",props:{power:{type:String,required:!0}},render(){return A(this.power)?this.$slots.default:null}},Ge=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"}));const Ke=t({name:"AppScale",props:{offset:{type:Object,default:()=>({right:"20px",bottom:"20px"})},step:{type:Number,default:1},scale:{type:Number,required:!0},miniScale:{type:Number,default:1},maxScale:{type:Number,default:6},natural:{type:Boolean,default:!0}},setup:e=>({currentScale:r(e.scale)}),methods:{minus(){this.natural?this._plus():this._minus()},_minus(){this.currentScale<this.maxScale&&(this.currentScale+=this.step,this.$emit("update:scale",this.currentScale),this.$emit("change",this.currentScale))},plus(){this.natural?this._minus():this._plus()},_plus(){this.currentScale>this.miniScale&&(this.currentScale-=this.step,this.$emit("update:scale",this.currentScale),this.$emit("change",this.currentScale))}},watch:{step(e){this.currentScale=e}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-scale",style:e.offset},[t("a",{staticClass:"app-scale__button",attrs:{href:"javascript:;"},on:{click:function(t){return e.minus()}}},[t("i",{staticClass:"el-icon-minus"})]),t("a",{staticClass:"app-scale__button",attrs:{href:"javascript:;"},on:{click:function(t){return e.plus()}}},[t("i",{staticClass:"el-icon-plus"})])])}),[],!1,null,null,null,null).exports,Qe=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"})),We=s({functional:!0,name:"AppSvgIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0},color:{type:String,default:"#333"},height:{type:[Number,String],default:50},width:{type:[Number,String],default:50},size:{type:[Array,Number,String],required:!1}},render(e,t){const a=t.props,[i,n]=a.size instanceof Array?a.size:"string"==typeof a.size||"number"==typeof a.size?[a.size,a.size]:[a.width,a.height];return e("svg",{attrs:{"aria-hidden":"true",width:i,height:n}},[e("use",{attrs:{"xlink:href":"#".concat(a.prefix,"-").concat(a.name),fill:a.color}})])}}),Je=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"}));const Ze=t({name:"app-table-container"},(function(e,t){return e("div",{staticClass:"app-table-container"},[t.$slots.action?e("el-row",{staticClass:"app-table-action"},[t._t("action")],2):t._e(),e("el-row",{staticClass:"app-table__inner"},[t._t("default")],2)],1)}),[],!0,null,null,null,null).exports,Xe=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));const Ue=t({name:"AppTableWidget",props:{text:{type:[Boolean,String],default:"操作"},data:{type:Array,default:()=>[]},storageKey:{type:String,required:!0}},computed:{showHead(){return this.data.filter((e=>e.prop))}},setup(){const{tableRef:e}=function(){const e=m().proxy,t=r(null);for(t.value=e.$parent;!t.value.doLayout;)t.value=t.value.$parent;return{tableRef:t}}();return{tableRef:e}},created(){this.initConfig()},methods:{initConfig(){const e=localStorage.getItem(this.storageKey);if(!e)return;const t=JSON.parse(e);this.showHead.forEach((e=>{const a=t.find((t=>t.prop===e.prop));a&&(e.on=a.on)})),this.updateConfig()},reset(){this.showHead.forEach((e=>{e.on=!0})),this.updateConfig()},updateConfig(){const e=JSON.stringify(this.showHead);localStorage.setItem(this.storageKey,e),this.$nextTick((function(){this.tableRef.doLayout()}))}}},(function(){var e=this,t=e._self._c;return t("el-popover",{attrs:{width:"120px",placement:"bottom",trigger:"click","popper-class":"table-widget-popper"}},[t("div",{staticClass:"table-widget__title"},[t("span",[e._v("表格设置")]),t("a",{staticClass:"table-widget__reset",attrs:{href:"javascript:;"},on:{click:function(t){return e.reset()}}},[e._v("恢复默认")])]),t("el-scrollbar",{attrs:{"view-class":"table-widget",tag:"ul","wrap-style":"padding-right: 10px;"}},e._l(e.showHead,(function(a){return t("li",{key:a.prop,staticClass:"table-widget__item",attrs:{title:a.label}},[t("div",{staticClass:"table-widget__label"},[t("div",{staticClass:"table-widget__icon"},[t("img",{attrs:{src:"/static/img/table-widget-f9be415d.svg"}})]),t("div",{staticClass:"table-widget__text"},[e._v(e._s(a.label))])]),t("el-switch",{attrs:{disabled:a.required,"active-color":"#3D8AFF","inactive-color":"#D1D3D6"},on:{change:e.updateConfig},model:{value:a.on,callback:function(t){e.$set(a,"on",t)},expression:"item.on"}})],1)})),0),t("div",{staticClass:"table-widget-head",attrs:{slot:"reference"},slot:"reference"},[e.text?t("span",{staticClass:"table-widget-head__text"},[e._v(e._s(e.text))]):e._e(),t("el-tooltip",{attrs:{content:"操作可以自定义设置",placement:"top"}},[t("i",{staticClass:"icon el-icon-setting"})])],1)],1)}),[],!1,null,null,null,null).exports,et=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),tt={limit:15,current:1,rowKey:"id",offset:80},at=s({name:"app-virtual-list",props:{data:{type:Array,default:()=>[]},itemHeight:{type:Number,required:!0},prop:{type:Object,default:()=>tt}},setup(e,t){const a=Object.assign({},tt,e.prop),i=r(!1),l=r(0),s=r(),c=n((function(){return Math.ceil(l.value/e.itemHeight)})),u=r(0),p=n((function(){return e.data.length*e.itemHeight})),d=n((function(){return Math.floor(u.value/e.itemHeight)})),m=n((function(){return d.value+c.value})),h=r(0),v=n((function(){return e.data.slice(d.value,Math.min(m.value,e.data.length))})),f=n((function(){return{transform:"translate3d(0, ".concat(h.value,"px, 0)")}}));return o((function(){l.value=s.value.clientHeight})),t.emit("end",a),i.value=!0,t.expose({loaded:function(){i.value=!1}}),{options:a,virtualContainer:s,listHeight:p,containerStyle:f,visibleData:v,onScroll:function(n){const s=n.target;u.value=s.scrollTop,h.value=s.scrollTop-s.scrollTop%e.itemHeight,console.log(s.scrollHeight),console.log(s.scrollTop),console.log(s.scrollHeight-s.scrollTop-l.value,a.offset),i.value||s.scrollHeight-s.scrollTop-l.value<a.offset&&(i.value=!0,a.current+=1,t.emit("end",a))}}},render(){return d("div",{class:"app-virtual-list",ref:"virtualContainer",on:{scroll:this.onScroll}},[d("div",{class:"app-virtual-scroll-bar",style:{height:this.listHeight+"px"}}),d("ol",{class:"app-virtual-container",style:this.containerStyle},[this.visibleData.map((e=>d("li",{class:"app-virtual-item",key:e[this.options.rowKey],style:{height:this.itemHeight+"px"}},[this.$scopedSlots.default(e)])))])])}}),it=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"})),nt=function(){const e=Object.assign({"./app-big-screen/index.jsx":R,"./app-calculator/index.vue":Z,"./app-calendar/index.jsx":ee,"./app-card/index.vue":ae,"./app-collapse-transition/index.jsx":se,"./app-collapse-transition2/index.vue":de,"./app-data-view/index.vue":he,"./app-form-collapse/index.vue":fe,"./app-form-tab-pane/index.vue":ye,"./app-form-tab/index.vue":_e,"./app-gap/index.vue":Se,"./app-grid/index.jsx":Te,"./app-page-aside/index.vue":Pe,"./app-page/index.jsx":Ne,"./app-patient/index.vue":Re,"./app-permission/index.jsx":Ge,"./app-scale/index.vue":Qe,"./app-svg-icon/index.jsx":Je,"./app-table-container/index.vue":Xe,"./app-table-widget/index.vue":et,"./app-virtual-list/index.jsx":it});return Object.values(e).map((e=>e.default))}(),lt={install(e){nt.forEach((t=>{e.component(t.name,t)}))}};export{F as L,I as a,lt as s};
//# sourceMappingURL=components.a228e139.js.map
