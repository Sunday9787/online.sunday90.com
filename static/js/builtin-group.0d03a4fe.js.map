{"version":3,"file":"builtin-group.0d03a4fe.js","sources":["../../../src/views/template/components/builtin/builtin-group.vue"],"sourcesContent":["<template lang=\"pug\">\n.builtin-group(:style=\"groupStyle\")\n  component(\n    ref=\"builtinComponentRef\"\n    v-for=\"(component) in children\"\n    v-bind=\"component.props\"\n    v-model=\"component.value\"\n    :mode=\"mode\"\n    :children=\"component.children\"\n    :key=\"component.id\"\n    :is=\"component.name\"\n    group)\n</template>\n\n<script>\nimport { reactive } from 'vue'\nimport mixin from './mixins'\nimport BuiltinInput from './builtin-input.vue'\nimport BuiltinSelect from './builtin-select.vue'\n\nexport default {\n  name: 'BuiltinGroup',\n  mixins: [mixin],\n  components: {\n    BuiltinInput,\n    BuiltinSelect\n  },\n  props: {\n    top: {\n      type: Boolean,\n      default: false\n    },\n    children: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const rect = reactive({\n      w: props.size.w,\n      h: props.size.h\n    })\n\n    return { rect }\n  },\n  computed: {\n    groupStyle() {\n      const style = {\n        width: this.rect.w + 'px',\n        height: this.rect.h + 'px'\n      }\n\n      if (this.top) {\n        style.position = 'reactive'\n      } else {\n        style.position = 'absolute'\n        style.left = this.position.x + 'px'\n        style.top = this.position.y + 'px'\n      }\n\n      return style\n    }\n  },\n  methods: {\n    toHtml() {\n      /**\n       * @type {Vue[]}\n       */\n      const builtinComponentRef = Array.isArray(this.$refs.builtinComponentRef)\n        ? this.$refs.builtinComponentRef\n        : [this.$refs.builtinComponentRef]\n\n      const group = this.$el.cloneNode()\n      group.style.position = 'absolute'\n      group.style.left = this.position.x + 'px'\n      group.style.top = this.position.y + 'px'\n\n      builtinComponentRef.forEach(function (item) {\n        group.append(item.toHtml())\n      })\n\n      return group\n    }\n  }\n}\n</script>\n"],"names":["name","mixins","mixin","components","BuiltinInput","BuiltinSelect","props","top","type","Boolean","default","children","Array","setup","rect","reactive","w","size","h","computed","groupStyle","style","width","this","height","position","left","x","y","methods","toHtml","builtinComponentRef","isArray","$refs","group","$el","cloneNode","forEach","item","append"],"mappings":"yqBAoBA,CACAA,KAAA,eACAC,OAAA,CAAAC,GACAC,WAAA,CACAC,eACAC,iBAEAC,MAAA,CACAC,IAAA,CACAC,KAAAC,QACAC,SAAA,GAEAC,SAAA,CACAH,KAAAI,MACAF,QAAA,IAAA,KAGAG,MAAAP,IAMA,CAAAQ,KALAC,EAAA,CACAC,EAAAV,EAAAW,KAAAD,EACAE,EAAAZ,EAAAW,KAAAC,MAKAC,SAAA,CACA,UAAAC,GACA,MAAAC,EAAA,CACAC,MAAAC,KAAAT,KAAAE,EAAA,KACAQ,OAAAD,KAAAT,KAAAI,EAAA,MAWA,OARAK,KAAAhB,IACAc,EAAAI,SAAA,YAEAJ,EAAAI,SAAA,WACAJ,EAAAK,KAAAH,KAAAE,SAAAE,EAAA,KACAN,EAAAd,IAAAgB,KAAAE,SAAAG,EAAA,MAGAP,CACA,GAEAQ,QAAA,CACA,MAAAC,GAIA,MAAAC,EAAAnB,MAAAoB,QAAAT,KAAAU,MAAAF,qBACAR,KAAAU,MAAAF,oBACA,CAAAR,KAAAU,MAAAF,qBAEAG,EAAAX,KAAAY,IAAAC,YASA,OARAF,EAAAb,MAAAI,SAAA,WACAS,EAAAb,MAAAK,KAAAH,KAAAE,SAAAE,EAAA,KACAO,EAAAb,MAAAd,IAAAgB,KAAAE,SAAAG,EAAA,KAEAG,EAAAM,SAAA,SAAAC,GACAJ,EAAAK,OAAAD,EAAAR,SACA,IAEAI,CACA"}