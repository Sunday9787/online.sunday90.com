!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return r};var n,r={},o=Object.prototype,i=o.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(n){h=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),c=new R(r||[]);return a(i,"_invoke",{value:k(e,n,c)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var p="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function w(){}function A(){}function E(){}var C={};h(C,s,(function(){return this}));var S=Object.getPrototypeOf,b=S&&S(S(F([])));b&&b!==o&&i.call(b,s)&&(C=b);var x=E.prototype=w.prototype=Object.create(C);function Q(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function I(t,n){function r(o,a,c,s){var u=d(t[o],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==e(h)&&i.call(h,"__await")?n.resolve(h.__await).then((function(e){r("next",e,c,s)}),(function(e){r("throw",e,c,s)})):n.resolve(h).then((function(e){l.value=e,c(l)}),(function(e){return r("throw",e,c,s)}))}s(u.arg)}var o;a(this,"_invoke",{value:function(e,t){function i(){return new n((function(n,o){r(e,t,n,o)}))}return o=o?o.then(i,i):i()}})}function k(e,t,r){var o=p;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=B(c,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=d(e,t,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function B(e,t){var r=t.method,o=e.iterator[r];if(o===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,B(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function J(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function U(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(J,this),this.reset(!0)}function F(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(i.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}throw new TypeError(e(t)+" is not iterable")}return A.prototype=E,a(x,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:A,configurable:!0}),A.displayName=h(E,l,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,h(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},r.awrap=function(e){return{__await:e}},Q(I.prototype),h(I.prototype,u,(function(){return this})),r.AsyncIterator=I,r.async=function(e,t,n,o,i){void 0===i&&(i=Promise);var a=new I(f(e,t,n,o),i);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},Q(x),h(x,l,"Generator"),h(x,s,(function(){return this})),h(x,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},r.values=F,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(U),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return c.type="throw",c.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),U(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;U(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:F(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}},r}function n(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(t,n,r){return n=l(n),function(t,n){if(n&&("object"==e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,u()?Reflect.construct(n,r||[],l(t).constructor):n.apply(t,r))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}System.register(["./libs-legacy.774d107d.js","./vendor-legacy.ddc66af0.js"],(function(e,a){"use strict";var c,u,l,d,v,g,m,w,A,E,C,S,b,x,Q,I,k,B,J,U,R,F,K,L,O,j,P,q,G,N,T,V,D,M,z,Y,H,W;return{setters:[function(e){c=e.T,u=e.t,l=e.v,d=e.w,v=e.V,g=e.x,m=e.E,w=e.y,A=e.D,E=e.o,C=e.z,S=e.C,b=e.F,x=e.G,Q=e.H,I=e.I,k=e.J,B=e.K,J=e.n,U=e.Q,R=e.U,F=e.X,K=e.Y,L=e.Z,O=e.$,j=e.R,P=e.q,q=e.P,G=e.S,N=e.A,T=e.a0,V=e.O,D=e.a1,M=e.a2,z=e.a3,Y=e.a4,H=e.a5},function(e){W=e.n}],execute:function(){var a=document.createElement("style");a.textContent=".three-container{height:100%;position:relative}\n",document.head.appendChild(a);var Z=new c,X=function(){return p((function e(t,n,r){f(this,e),y(this,"data",null),this.container=t,this.width=n,this.height=r,this.clickObjects=[],this.scene=null,this.camera=null,this.renderer=null,this.CSS2dRenderer=null,this.SVGRenderer=null,this.control=null,this.gui=null}),[{key:"init",value:function(e){this.data=e;var t=this,n=new j,r=new P;this.initScene(),this.initHelper(),this.initCamera(),this.initLight(),this.initRenderer(),this.initCSS2dRenderer(),this.initControl(),this.initCanvas(),this.resize=function(){t.renderer.setSize(window.innerWidth,window.innerHeight),t.CSS2dRenderer.setSize(window.innerWidth,window.innerHeight),t.camera.aspect=window.innerWidth/window.innerHeight,t.control.update(),t.camera.updateProjectionMatrix()},this.pointerdown=function(e){e.preventDefault(),r.x=e.clientX/t.renderer.domElement.clientWidth*2-1,r.y=-e.clientY/t.renderer.domElement.clientHeight*2+1,n.setFromCamera(r,t.camera);var o=n.intersectObjects(t.clickObjects);o.length>0&&t.onPointDown(o[0].object)},this.container.addEventListener("pointerdown",this.pointerdown),window.addEventListener("resize",this.resize),window.dispatchEvent(new Event("resize"))}},{key:"initCamera",value:function(){this.camera=new q(75,this.width/this.height,.1,1e3),this.camera.position.set(8,8,8),this.camera.lookAt(0,0,0)}},{key:"initScene",value:function(){this.scene=new G}},{key:"initHelper",value:function(){var e=new N(50);this.gui=new T({title:"地图控制器"}),this.scene.add(e),document.body.appendChild(this.gui.domElement)}},{key:"initControl",value:function(){var e=this;this.control=new V(this.camera,this.renderer.domElement),this.control.target.set(0,0,0),this.control.update(),this.change=function(){e.renderer.render(e.scene,e.camera),e.CSS2dRenderer.render(e.scene,e.camera)},this.control.addEventListener("change",this.change)}},{key:"initRenderer",value:function(){var e=this;this.renderer=new D({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(13887227,1),this.renderer.setAnimationLoop((function(){e.renderer.render(e.scene,e.camera),e.CSS2dRenderer.render(e.scene,e.camera)})),this.container.appendChild(this.renderer.domElement)}},{key:"initCSS2dRenderer",value:function(){this.CSS2dRenderer=new M,this.CSS2dRenderer.setSize(window.innerWidth,window.innerHeight),this.CSS2dRenderer.domElement.style.position="absolute",this.CSS2dRenderer.domElement.style.left="0",this.CSS2dRenderer.domElement.style.top="0",this.CSS2dRenderer.domElement.style.pointerEvents="none",this.container.appendChild(this.CSS2dRenderer.domElement)}},{key:"initSVGRenderer",value:function(){}},{key:"initLight",value:function(){var e=new z(13953021,4);this.scene.add(e);var t=new Y(15264491,.2);t.position.set(0,10,5);var n=t.clone();n.position.set(0,10,-5);var r=t.clone();r.position.set(5,10,0);var o=t.clone();o.position.set(-5,10,0),this.scene.add(t),this.scene.add(n),this.scene.add(r),this.scene.add(o);var i=new H(t,2,16711680);this.scene.add(i);var a=this.gui.addFolder("平行光");a.add(t.position,"x",0,20).name("x轴"),a.add(t.position,"y",0,20).name("y轴"),a.add(t.position,"z",0,20).name("z轴"),a.add(t,"intensity",0,5).name("强度"),a.addColor(e,"color").onChange((function(t){e.color.set(t)})).name("环境光颜色")}},{key:"initCanvas",value:function(){}},{key:"animate",value:function(){}},{key:"onPointDown",value:function(){}},{key:"destroy",value:function(){window.removeEventListener("resize",this.resize),this.container.removeEventListener("pointerdown",this.pointerdown),this.control.removeEventListener("change",this.change),this.control.dispose(),this.gui.destroy(),this.renderer.dispose(),this.scene.clear(),this.data=null}}])}(),_=u(),$=function(e){function t(){var e;f(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y(e=s(this,t,[].concat(r)),"iconMap",Z.load("/static/img/local-5a29b6c1.png")),y(e,"airplaneMap",Z.load("data:image/png;base64,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")),y(e,"airplanes",[]),y(e,"process",0),y(e,"speed",5e-4),y(e,"flyCity",[["信阳市","郑州市"],["信阳市","鹤壁市"],["三门峡市","商丘市"],["三门峡市","洛阳市"],["鹤壁市","濮阳市"],["商丘市","鹤壁市"],["鹤壁市","南阳市"],["驻马店市","焦作市"],["信阳市","濮阳市"]]),y(e,"cityPoint",new Map),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),p(t,[{key:"initCanvas",value:function(){var e=this;this.map=e.createMap(e.data);var t=(new l).setFromObject(this.map),n=new d(t,16776960),r=t.getCenter(new v);this.map.position.x=this.map.position.x-r.x,this.map.position.y=this.map.position.y-r.y,e.scene.add(n),e.scene.add(this.map)}},{key:"createMesh",value:function(e,t,n){var r=new g;e.forEach((function(e,t){var n=i(_(e),2),o=n[0],a=n[1];0===t?r.moveTo(o,-a):r.lineTo(o,-a)}));var o=new m(r,{depth:n,bevelEnabled:!1}),a=new w({color:t,emissive:0,roughness:.45,metalness:.8,transparent:!0,side:A});return new E(o,a)}},{key:"createLine",value:function(e,t){var n=[];e.forEach((function(e){var t=i(_(e),2),r=t[0],o=t[1];n.push(new v(r,-o,0))}));var r=(new C).setFromPoints(n),o=new S({color:16777215}),a=new S({color:16777215}),c=new b(r,o),s=new b(r,a);return s.position.z=-1e-4,c.position.z=t+1e-4,[c,s]}},{key:"createMap",value:function(e){var t=this,n=new x,r=e.features[0].properties.centroid;_.center(r).translate([0,0]);var a=function(e,t,n,r){var i=this.createMesh(e,t,n),a=this.createLine(e,n);r.add.apply(r,[i].concat(o(a))),this.clickObjects.push(i)};return e.features.forEach((function(e){var r=new x,o=e.geometry,c=o.coordinates,s=o.type,u=e.properties,l=u.name,h=u.centroid,f=u.center,d=new Q("hsl(\n        ".concat(233,",\n        ",30*Math.random()+55,"%,\n        ").concat(30*Math.random()+55,"%)")).getHex(),p=.3*Math.random()+.3,y=h||f||[0,0],g=t.createLabel(l,y,p),m=t.createPoint(y,p);r.name=l;var w=i(_(y),2),A=w[0],E=w[1];t.cityPoint.set(l,new v(A,-E,p)),c.forEach((function(e){"MultiPolygon"===s&&e.forEach((function(e){return a.apply(t,[e,d,p,r])})),"Polygon"===s&&a.apply(t,[e,d,p,r])})),n.add(r,g,m)})),this.createFlayLine(n),n}},{key:"createLabel",value:function(e,t,n){var r=i(_(t),2),o=r[0],a=r[1],c=document.createElement("label"),s=new I(c);return c.style.color="#fff",c.style.fontSize="12px",c.style.textShadow="1px 1px 2px #047cd6",c.textContent=e,s.scale.set(1.1,1.1,1.1),s.position.set(o,-a,n),s}},{key:"createPoint",value:function(e,t){var n=new k({map:this.iconMap}),r=new B(n),o=i(_(e),2),a=o[0],c=o[1];return r.scale.set(.3,.3,.3),r.position.set(a,-c,t+.2),r.renderOrder=1,r}},{key:"onPointDown",value:function(e){var t,n=e.parent,o=this.map.children.filter((function(e){return"Group"===e.type})),a=r(o);try{for(a.s();!(t=a.n()).done;){var c=i(t.value.children,1)[0];c!==e&&(c.material.opacity=1)}}catch(l){a.e(l)}finally{a.f()}var s,u=r(n.children);try{for(u.s();!(s=u.n()).done;){s.value.material.opacity=.4}}catch(l){u.e(l)}finally{u.f()}}},{key:"createFlyPoint",value:function(e){var t=new J({color:1722064,side:A}),n=new U(.1,200),r=new E(n,t);r.position.add(e);var o=new J({color:1722096,side:A,transparent:!0}),i=new R(.1,.15,500),a=new E(i,o);return a.position.add(e),[r,a]}},{key:"createLineConnect",value:function(e,t){var n=i(this.createFlyPoint(e),2),r=n[0],o=n[1],a=i(this.createFlyPoint(t),2),c=a[0],s=a[1],u=new F(e,new v((e.x+t.x)/2,(e.y+t.y)/2,10*Math.random()*.6),t),l=u.getPoints(50),h=(new C).setFromPoints(l),f=new S({color:7226307,side:A});return[r,c,new b(h,f),o,s,u]}},{key:"createPlane",value:function(e){var t=new J({map:this.airplaneMap,transparent:!0}),n=new K(.5,.5),r=new E(n,t);return r.position.add(e),r}},{key:"createFlayLine",value:function(e){var t,n=[],o=[],a=r(this.flyCity);try{for(a.s();!(t=a.n()).done;){var c=i(t.value,2),s=c[0],u=c[1],l=this.cityPoint.get(s),h=this.cityPoint.get(u),f=this.createPlane(l),d=i(this.createLineConnect(l,h),6),p=d[0],y=d[1],v=d[2],g=d[3],m=d[4],w=d[5],A=Math.atan2(h.x-l.x,h.y-l.y);f.rotateZ(-A),n.push(g,m),o.push([f,w]),e.add(p,y,v,g,m,f)}}catch(E){a.e(E)}finally{a.f()}this.animate(n,o)}},{key:"animate",value:function(e,t){this.airplanes=t;var n,o=r(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;L.fromTo(a.scale,{x:.1,y:.1,z:.1},{x:1.2,y:1.2,z:1.2,duration:3,repeat:-1,ease:O.easeInOut}),L.fromTo(a.material,{opacity:1},{opacity:0,duration:3,repeat:-1,ease:O.easeInOut})}}catch(l){o.e(l)}finally{o.f()}var c,s=r(this.airplanes);try{var u=function(){var e=i(c.value,2),t=e[0],n=e[1];L.to(t.position,{onUpdate:function(){var e=L.getProperty(t.position,"progress")%1,r=n.getPoint(e),o=n.getTangent(e).normalize();t.position.copy(r);var i=new v(0,1,0).cross(o).normalize(),a=Math.acos(new v(0,1,0).dot(o));t.quaternion.setFromAxisAngle(i,a)},onStart:function(){L.set(t.position,{progress:0})},onComplete:function(){L.set(t.position,{progress:0})},progress:1,repeat:-1,duration:8,ease:"linear"})};for(s.s();!(c=s.n()).done;)u()}catch(l){s.e(l)}finally{s.f()}}}])}(X);var ee={name:"ThreeMap",mounted:function(){var e,r=this;return(e=t().mark((function e(){var n,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://geo.datav.aliyun.com/areas_v3/bound/410000_full.json").then((function(e){return e.json()}));case 2:n=e.sent,(o=new $(r.$el,window.innerWidth,window.innerHeight)).init(n),r.$on("hook:beforeDestroy",(function(){o.destroy()}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function c(e){n(a,o,i,c,s,"next",e)}function s(e){n(a,o,i,c,s,"throw",e)}c(void 0)}))})()}};e("default",W(ee,(function(){return(0,this._self._c)("div",{staticClass:"three-container"})}),[],!1,null,null,null,null).exports)}}}))}();
//# sourceMappingURL=index-legacy.0b91590a.js.map
