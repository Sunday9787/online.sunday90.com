var e=Object.defineProperty,t=(t,a,l)=>(((t,a,l)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l})(t,"symbol"!=typeof a?a+"":a,l),l);import{p as a,M as l}from"./libs.ec5fd20d.js";import{x as r,n,y as s,v as o,r as i}from"./vendor.e75a9f0e.js";var p=function(){var e=this,t=e._self._c;return t("app-table-container",[t("template",{slot:"action"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.exportCases("导出病例")}}},[e._v("导出病例")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.exportExcel("导出EXCEL")}}},[e._v("导出EXCEL")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.expertConsultation("专家会诊")}}},[e._v("专家会诊")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.distributionCases("病例分配")}}},[e._v("病例分配")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.deleteCases("删除病例")}}},[e._v("删除病例")])],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.page.table.loading,expression:"page.table.loading"}],ref:"table",attrs:{data:e.page.table.data,height:"100%",stripe:""},on:{"selection-change":e.selectionChange}},[t("el-table-column",{attrs:{type:"selection"}}),t("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),t("el-table-column",{attrs:{prop:"address",label:"地址"}})],1)],2)},c=[];const m=s((function(e){e.hook((function(){if(this.selection.length)return!0;this.$message.error("请至少选择一个")}))}));const u=n({name:"dashboard-sample",inject:["page"],data:()=>({selection:[]}),methods:{exportCases:m((function(e){console.log(e)})),exportExcel:m((function(e){console.log(e)})),expertConsultation:m((function(e){console.log(e)})),distributionCases:m((function(e){console.log(e)})),deleteCases:m((function(e){console.log(e)})),selectionChange(e){this.selection=e}}},p,c,!1,null,null,null,null).exports;var d=function(){var e=this,t=e._self._c;return t("app-table-container",[t("template",{slot:"action"},[t("el-button",{attrs:{type:"primary",size:"small"}},[e._v("导出LIS")]),t("el-button",{attrs:{type:"primary",size:"small"}},[e._v("导出EXCEL")]),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.exposePDF()}}},[e._v("导出PDF")])],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.page.table.loading,expression:"page.table.loading"}],ref:"table",attrs:{stripe:"",height:"100%",data:e.page.table.data}},[e._l(e.tableHead,(function(a){return[a.on||!a.prop?t("el-table-column",e._b({key:a.prop},"el-table-column",a,!1),[a.prop?e._e():t("app-table-widget",{attrs:{slot:"header",text:a.label,data:e.tableHead,"storage-key":"dashboard-report"},slot:"header"})],1):e._e()]}))],2)],2)},b=[];const f=n({name:"dashboard-report",inject:["page"],data:()=>({tableHead:[{on:!0,fixed:!0,label:"日期",prop:"date",width:"180"},{on:!0,required:!0,label:"姓名",prop:"name",width:"380"},{on:!0,required:!0,label:"姓名名",prop:"named",width:"380"},{on:!0,label:"地址",prop:"address",width:"380"},{label:"设置",fixed:"right",width:"150"}]}),created(){this.$nextTick((function(){console.log(this.page)}))},methods:{exposePDF(){console.log(this)}}},d,b,!1,null,null,null,null).exports;var h=function(){var e=this,t=e._self._c;return t("app-table-container",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.page.table.loading,expression:"page.table.loading"}],ref:"table",attrs:{stripe:"",height:"100%",data:e.page.table.data}},[t("el-table-column",{attrs:{width:"180",label:"日期",prop:"date"}}),t("el-table-column",{attrs:{width:"180",label:"姓名",prop:"name"}}),t("el-table-column",{attrs:{label:"地址",prop:"address"}})],1)],1)},v=[];const g=n({name:"dashboard-statistics",inject:["page"],setup(){}},h,v,!1,null,null,null,null).exports;var x=function(){var e=this,t=e._self._c;return t("app-page",[t("app-card",[t("app-form-tab",{on:{change:e.tabChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("app-form-tab-pane",{attrs:{title:"样本管理",name:"sample"},scopedSlots:e._u([{key:"default",fn:function({visible:a}){return[t("app-form-collapse",{attrs:{visible:a}},[t("el-form",{ref:"sample",attrs:{"label-width":"80px",size:"small",model:e.sampleForm,inline:""}},[t("el-form-item",{attrs:{prop:"patientNo",label:"样本编号"}},[t("el-input",{on:{input:function(t){return e.search()}},model:{value:e.sampleForm.patientNo,callback:function(t){e.$set(e.sampleForm,"patientNo",t)},expression:"sampleForm.patientNo"}})],1),t("el-form-item",{attrs:{prop:"startTime",label:"上传时间"}},[t("el-date-picker",{attrs:{"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange"},on:{change:function(t){return e.search()}},model:{value:e.uploadTime,callback:function(t){e.uploadTime=t},expression:"uploadTime"}})],1),t("el-form-item",{attrs:{prop:"hasExpertPatient",label:"会诊状态"}},[t("el-select",{attrs:{"default-first-option":""},on:{change:function(t){return e.search()}},model:{value:e.sampleForm.hasExpertPatient,callback:function(t){e.$set(e.sampleForm,"hasExpertPatient",t)},expression:"sampleForm.hasExpertPatient"}},e._l(e.expertPatientOptions,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1),t("el-form-item",{attrs:{prop:"transferStatus",label:"转交状态"}},[t("el-select",{attrs:{"default-first-option":""},model:{value:e.sampleForm.transferStatus,callback:function(t){e.$set(e.sampleForm,"transferStatus",t)},expression:"sampleForm.transferStatus"}},e._l(e.transferPatientOptions,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1)],1),t("el-button",{attrs:{slot:"action",size:"small"},on:{click:function(t){return e.resetForm("sample")}},slot:"action"},[e._v("重置")])],1)]}}])}),t("app-form-tab-pane",{attrs:{title:"样本统计",name:"statistics"},scopedSlots:e._u([{key:"default",fn:function({visible:a}){return[t("app-form-collapse",{attrs:{visible:a}},[t("el-form",{ref:"statistics",attrs:{"label-width":"80px",size:"small",model:e.statisticsForm,inline:""}},[t("el-form-item",{attrs:{prop:"patientNo",label:"样本编号"}},[t("el-input",{on:{input:function(t){return e.search()}},model:{value:e.statisticsForm.patientNo,callback:function(t){e.$set(e.statisticsForm,"patientNo",t)},expression:"statisticsForm.patientNo"}})],1),t("el-form-item",{attrs:{prop:"delFlag",label:"删除状态"}},[t("el-select",{attrs:{"default-first-option":""},on:{change:function(t){return e.search()}},model:{value:e.statisticsForm.delFlag,callback:function(t){e.$set(e.statisticsForm,"delFlag",t)},expression:"statisticsForm.delFlag"}},e._l(e.delFlagOptions,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1),t("el-form-item",{attrs:{prop:"submitDateStart",label:"提交时间"}},[t("el-date-picker",{attrs:{"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange"},on:{change:function(t){return e.search()}},model:{value:e.submitTime,callback:function(t){e.submitTime=t},expression:"submitTime"}})],1)],1),t("el-button",{attrs:{slot:"action",size:"small"},on:{click:function(t){return e.resetForm("statistics")}},slot:"action"},[e._v("重置")])],1)]}}])}),t("app-form-tab-pane",{attrs:{title:"报告报告统计",name:"report"},scopedSlots:e._u([{key:"default",fn:function({visible:a}){return[t("app-form-collapse",{attrs:{visible:a}},[t("el-form",{ref:"report",attrs:{"label-width":"80px",size:"small",model:e.reportForm,inline:""}},[t("el-form-item",{attrs:{prop:"patientNo",label:"样本编号"}},[t("el-input",{on:{input:function(t){return e.search()}},model:{value:e.reportForm.patientNo,callback:function(t){e.$set(e.reportForm,"patientNo",t)},expression:"reportForm.patientNo"}})],1),t("el-form-item",{attrs:{prop:"hasExportLis",label:"导出Lsi"}},[t("el-select",{attrs:{"default-first-option":""},on:{change:function(t){return e.search()}},model:{value:e.reportForm.hasExportLis,callback:function(t){e.$set(e.reportForm,"hasExportLis",t)},expression:"reportForm.hasExportLis"}},e._l(e.exportLisOptions,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1),t("el-form-item",{attrs:{prop:"tabType",label:"审核进度"}},[t("el-select",{attrs:{"default-first-option":""},on:{change:function(t){return e.search()}},model:{value:e.reportForm.tabType,callback:function(t){e.$set(e.reportForm,"tabType",t)},expression:"reportForm.tabType"}},e._l(e.tabTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1),t("el-form-item",{attrs:{prop:"finishDateEndTime",label:"完成时间"}},[t("el-date-picker",{attrs:{change:"search()","end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange"},model:{value:e.finishTime,callback:function(t){e.finishTime=t},expression:"finishTime"}})],1)],1),t("el-button",{attrs:{slot:"action",size:"small"},on:{click:function(t){return e.resetForm("report")}},slot:"action"},[e._v("重置")])],1)]}}])})],1)],1),t("app-data-view",{attrs:{pagination:""}},[t("keep-alive",[t(e.activeName,{tag:"component"})],1)],1)],1)},F=[];function y({length:e=10}){const t=l.mock({["data|10-".concat(e)]:[{date:"@date",name:"@cname",address:"@province@city@county"}]});return i(t.data)}!async function(){const e=await y({length:15}),l=a(class{constructor(){t(this,"date",""),t(this,"name",""),t(this,"address",""),t(this,"status",null),t(this,"lastModified","")}get statusName(){return null===(e=this.status)?"未初始化":e>0?"启用":"禁用";var e}},e);console.log(l)}();const k=n({name:"DashboardIndex",mixins:[o({immediate:!1,request:y,timeFieldMap:{uploadTime:["startTime","endTime"],submitTime:["submitDateStart","submitDateEnd"],finishTime:["finishDateEndTime","finishDateStartTime"]}})],components:{sample:u,report:f,statistics:g},setup(){const{form:e,expertPatientOptions:t,transferPatientOptions:a}={form:r({mechanismId:"",patientNo:"",startTime:"",endTime:"",hasExpertPatient:0,hasTransferPatient:0,transferStatus:-1}),expertPatientOptions:Object.freeze([{label:"全部",value:-1},{label:"是",value:1},{label:"否",value:0}]),transferPatientOptions:Object.freeze([{label:"全部",value:-1},{label:"是",value:1},{label:"否",value:0}])},{form:l,tabTypeOptions:n,exportLisOptions:s}={form:r({mechanismId:"",patientNo:"",tabType:0,hasExportLis:0,finishDateEndTime:"",finishDateStartTime:""}),tabTypeOptions:Object.freeze([{label:"全部",value:-1},{label:"未提交",value:1},{label:"待审核",value:0}]),exportLisOptions:Object.freeze([{label:"全部",value:-1},{label:"是",value:1},{label:"否",value:0}])},{form:o,delFlagOptions:i}={form:r({mechanismId:"",patientNo:"",delFlag:-1,submitDateEnd:"",submitDateStart:""}),delFlagOptions:Object.freeze([{label:"全部",value:-1},{label:"是",value:1},{label:"否",value:0}])};return{formMap:{sample:e,statistics:o,report:l},statisticsForm:o,sampleForm:e,reportForm:l,expertPatientOptions:t,transferPatientOptions:a,delFlagOptions:i,tabTypeOptions:n,exportLisOptions:s}},data:()=>({activeName:"sample"}),computed:{form(){return this.formMap[this.activeName]}},created(){this.form.mechanismId=this.currentMechanism.mechanismId,this.search(),this.$nextTick((function(){console.log(this.table)}))},methods:{tabChange(e){this.resetForm(e)}}},x,F,!1,null,null,null,null).exports;export{k as default};
//# sourceMappingURL=dashboard.7d41376d.js.map
